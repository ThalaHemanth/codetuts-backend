{"version":3,"sources":["../../src/resolvers/Mutation.js"],"names":["Mutation","Signup","parent","email","password","firebase","auth","createUserWithEmailAndPassword","catch","console","log","err","Signin","signInWithEmailAndPassword","CreateApi","args","db","title","toLowerCase","Language","playlistId","id","axios","get","data","Items","items","map","channel","item","snippet","channelTitle","thumbnail","thumbnails","default","url","video","resourceId","videoId","collection","add","playlist","language"],"mappings":";;;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,WAAW;AACfC,UAAQ,gBAACC,MAAD,eAA+C;AAAA,QAApCC,KAAoC,QAApCA,KAAoC;AAAA,QAA7BC,QAA6B,QAA7BA,QAA6B;AAAA,QAAfC,QAAe,SAAfA,QAAe;;AACrDA,aACGC,IADH,GAEGC,8BAFH,CAEkCJ,KAFlC,EAEyCC,QAFzC,EAGGI,KAHH,CAGS;AAAA,aAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,KAHT;AAIA,WAAO,SAAP;AACD,GAPc;AAQfC,UAAQ,gBAACV,MAAD,gBAA+C;AAAA,QAApCC,KAAoC,SAApCA,KAAoC;AAAA,QAA7BC,QAA6B,SAA7BA,QAA6B;AAAA,QAAfC,QAAe,SAAfA,QAAe;;AACrDA,aACGC,IADH,GAEGO,0BAFH,CAE8BV,KAF9B,EAEqCC,QAFrC,EAGGI,KAHH,CAGS;AAAA,aAAOC,QAAQC,GAAR,CAAYC,GAAZ,CAAP;AAAA,KAHT;AAIA,WAAO,WAAP;AACD,GAdc;AAefG;AAAA,wEAAW,iBAAOZ,MAAP,EAAea,IAAf;AAAA,UAAuBC,EAAvB,SAAuBA,EAAvB;;AAAA;;AAAA;AAAA;AAAA;AAAA;AACHC,mBADG,GACKF,KAAKE,KAAL,CAAWC,WAAX,EADL;AAEHC,sBAFG,GAEQJ,KAAKI,QAAL,CAAcD,WAAd,EAFR;AAGDE,wBAHC,GAGcL,IAHd,CAGDK,UAHC;AAIHC,gBAJG,GAIE,kBAJF;AAAA;AAAA,qBAKcC,gBAAMC,GAAN,kFAC0DH,UAD1D,gEALd;;AAAA;AAAA;AAKDI,kBALC,SAKDA,IALC;AAQHC,mBARG,GAQKD,KAAKE,KAAL,CAAWC,GAAX,CAAe;AAAA,uBAAS;AACpCC,2BAASC,KAAKC,OAAL,CAAaC,YADc;AAEpCC,6BAAWH,KAAKC,OAAL,CAAaG,UAAb,CAAwBC,OAAxB,CAAgCC,GAFP;AAGpClB,yBAAOY,KAAKC,OAAL,CAAab,KAHgB;AAIpCmB,yBAAOP,KAAKC,OAAL,CAAaO,UAAb,CAAwBC;AAJK,iBAAT;AAAA,eAAf,CARL;;AAcTtB,iBAAGuB,UAAH,CAAcpB,QAAd,EAAwBqB,GAAxB,CAA4B;AAC1BnB,sBAD0B;AAE1BJ,4BAF0B;AAG1BG,sCAH0B;AAI1BqB,0BAAUhB;AAJgB,eAA5B;AAdS,+CAoBF;AACLJ,sBADK;AAELJ,4BAFK;AAGLyB,0BAAUvB,QAHL;AAILsB,0BAAU;AAAA,yBAAMhB,MAAME,GAAN,CAAU;AAAA,2BAAS,EAAEE,UAAF,EAAT;AAAA,mBAAV,CAAN;AAAA;AAJL,eApBE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAX;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAfe,CAAjB;;QA4CqBK,O,GAAZlC,Q;;AAET","file":"Mutation.js","sourcesContent":["import uuid from 'uuid/v4';\nimport axios from 'axios';\n\nconst Mutation = {\n  Signup: (parent, { email, password }, { firebase }) => {\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch(err => console.log(err));\n    return 'Success';\n  },\n  Signin: (parent, { email, password }, { firebase }) => {\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch(err => console.log(err));\n    return 'Logged In';\n  },\n  CreateApi: async (parent, args, { db }) => {\n    const title = args.title.toLowerCase();\n    const Language = args.Language.toLowerCase();\n    const { playlistId } = args;\n    const id = uuid();\n    const { data } = await axios.get(\n      `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&playlistId=${playlistId}&key=AIzaSyCxqkIJes14pl7_8hSkgq_cApTDRgK12OI&maxResults=50`\n    );\n    const Items = data.items.map(item => ({\n      channel: item.snippet.channelTitle,\n      thumbnail: item.snippet.thumbnails.default.url,\n      title: item.snippet.title,\n      video: item.snippet.resourceId.videoId,\n    }));\n    db.collection(Language).add({\n      id,\n      title,\n      playlistId,\n      playlist: Items,\n    });\n    return {\n      id,\n      title,\n      language: Language,\n      playlist: () => Items.map(item => ({ item })),\n    };\n  },\n};\n\nexport { Mutation as default };\n\n/*\n id:\n titile:\n playlistId:\n playlist:\n*/\n"]}